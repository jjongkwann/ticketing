# ============================================
# Ticketing Pro - 통합 환경 변수 설정
# ============================================

# ============================================
# 공통 설정
# ============================================
ENV=development
DEBUG=true
LOG_LEVEL=INFO

# ============================================
# Frontend
# ============================================
VITE_API_URL=http://localhost:8000/api
VITE_STRIPE_PUBLIC_KEY=pk_test_your_stripe_public_key
VITE_WS_URL=ws://localhost:8000/ws

# ============================================
# API Gateway
# ============================================
CORS_ORIGINS=http://localhost:3000,http://localhost:80

# Service URLs (Internal)
AUTH_SERVICE_URL=http://auth:8001
EVENTS_SERVICE_URL=http://events:8002
BOOKING_SERVICE_URL=http://booking:8003
PAYMENT_SERVICE_URL=http://payment:8004
SEARCH_SERVICE_URL=http://search:8005

# ============================================
# Auth Service
# ============================================
# PostgreSQL
DATABASE_URL=postgresql://ticketing:ticketing@postgres:5432/ticketing

# JWT Settings
JWT_SECRET_KEY=your-super-secret-key-change-this-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================
# Events Service
# ============================================
# Uses DATABASE_URL from Auth Service
AWS_REGION=us-east-1

# ============================================
# Booking Service
# ============================================
# DynamoDB
DYNAMODB_TABLE_NAME=bookings
DYNAMODB_ENDPOINT_URL=http://dynamodb-local:8000
AWS_ACCESS_KEY_ID=dummy
AWS_SECRET_ACCESS_KEY=dummy

# Kafka
KAFKA_BOOTSTRAP_SERVERS=kafka:9092
KAFKA_PRODUCER_TOPIC=booking-events

# Inventory Service (gRPC)
INVENTORY_GRPC_HOST=inventory
INVENTORY_GRPC_PORT=50051

# ============================================
# Payment Service
# ============================================
# Stripe
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Service URLs
BOOKING_SERVICE_URL=http://booking:8003

# ============================================
# Search Service
# ============================================
# OpenSearch
OPENSEARCH_HOST=opensearch
OPENSEARCH_PORT=9200
OPENSEARCH_USE_SSL=false
OPENSEARCH_USERNAME=admin
OPENSEARCH_PASSWORD=admin

# ============================================
# Notification Service
# ============================================
# AWS SES
SES_FROM_EMAIL=noreply@ticketing.com

# Kafka Consumer
KAFKA_BOOTSTRAP_SERVERS=kafka:9092
KAFKA_CONSUMER_GROUP=notification-service
KAFKA_CONSUMER_TOPICS=booking-events

# ============================================
# Inventory Service (Go)
# ============================================
GRPC_PORT=50051
HTTP_PORT=8080

# DynamoDB
DYNAMODB_SEATS_TABLE=ticketing-seats
DYNAMODB_RESERVATIONS_TABLE=ticketing-reservations
DYNAMODB_BOOKINGS_TABLE=ticketing-bookings
DYNAMODB_ENDPOINT=http://dynamodb-local:8000

# Redis
REDIS_ENDPOINT=redis:6379
REDIS_PASSWORD=
REDIS_DB=0

# ============================================
# Datadog APM (선택 사항)
# ============================================
DD_AGENT_HOST=datadog-agent
DD_TRACE_ENABLED=false
DD_ENV=development

# Service별 DD_SERVICE는 각 서비스에서 설정
# api-gateway, auth-service, events-service, etc.

# ============================================
# Infrastructure (로컬 개발용)
# ============================================
# PostgreSQL
POSTGRES_USER=ticketing
POSTGRES_PASSWORD=ticketing
POSTGRES_DB=ticketing

# Redis
REDIS_PASSWORD=

# Kafka
KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://kafka:9092

# OpenSearch
OPENSEARCH_JAVA_OPTS=-Xms512m -Xmx512m
